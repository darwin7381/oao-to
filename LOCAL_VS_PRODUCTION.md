# æœ¬åœ°é–‹ç™¼ vs ç”Ÿç”¢ç’°å¢ƒå®Œæ•´å°æ¯”

**å°ˆæ¡ˆ**ï¼šOAO.TO  
**ç›®çš„**ï¼šèªªæ˜é–‹ç™¼ç’°å¢ƒå’Œç”Ÿç”¢ç’°å¢ƒçš„å·®ç•°èˆ‡ä¸€è‡´æ€§  

---

## ğŸ¯ æ ¸å¿ƒåŸå‰‡

### **ç›®æ¨™ï¼šç’°å¢ƒä¸€è‡´æ€§**

```
æœ¬åœ°é–‹ç™¼ç’°å¢ƒ æ‡‰è©²ç›¡å¯èƒ½æ¥è¿‘ ç”Ÿç”¢ç’°å¢ƒ

ç›®çš„ï¼š
1. æœ¬åœ°æ¸¬è©¦é€šé = ç”Ÿç”¢éƒ¨ç½²æˆåŠŸ
2. æ¸›å°‘ã€Œæœ¬åœ°å¯ä»¥ï¼Œç”Ÿç”¢æ›æ‰ã€çš„æƒ…æ³
3. ææ—©ç™¼ç¾å•é¡Œ
```

---

## ğŸ“Š å®Œæ•´å°æ¯”è¡¨

### **æ¶æ§‹å±¤é¢**

| é …ç›® | æœ¬åœ°é–‹ç™¼ | ç”Ÿç”¢ç’°å¢ƒ | ä¸€è‡´æ€§ |
|------|---------|---------|--------|
| **æœå‹™æ•¸é‡** | 3 å€‹ | 3 å€‹ | âœ… å®Œå…¨ä¸€è‡´ |
| **æœå‹™åç¨±** | core + api + frontend | ç›¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **è·è²¬åˆ†å·¥** | core(é‡å®šå‘) api(æ¥­å‹™) frontend(UI) | ç›¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **æ•¸æ“šæµ** | ç›¸åŒçš„ API èª¿ç”¨éˆ | ç›¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **è·¯ç”±çµæ§‹** | ç›¸åŒçš„ URL çµæ§‹ | ç›¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |

---

### **å•Ÿå‹•/éƒ¨ç½²æ–¹å¼**

| é …ç›® | æœ¬åœ°é–‹ç™¼ | ç”Ÿç”¢ç’°å¢ƒ |
|------|---------|---------|
| **Core Worker** | `wrangler dev --port 8787 --persist-to ../.wrangler/oao-shared` | `wrangler deploy -e production` |
| **API Worker** | `wrangler dev --port 8788 --persist-to ../.wrangler/oao-shared` | `wrangler deploy -e production` |
| **Frontend** | `npm run dev` | `wrangler pages deploy dist` |
| **æŒ‡ä»¤è¤‡é›œåº¦** | 3 å€‹æŒ‡ä»¤ï¼ˆå¯ç”¨è…³æœ¬ï¼‰| 3 å€‹æŒ‡ä»¤ï¼ˆCI/CD è‡ªå‹•åŒ–ï¼‰|
| **å•Ÿå‹•æ™‚é–“** | ~10 ç§’ | ~30 ç§’ï¼ˆéƒ¨ç½²ï¼‰|

---

### **ç¶²è·¯å±¤é¢**

| é …ç›® | æœ¬åœ°é–‹ç™¼ | ç”Ÿç”¢ç’°å¢ƒ |
|------|---------|---------|
| **Core Worker URL** | `http://localhost:8787` | `https://oao.to` |
| **API Worker URL** | `http://localhost:8788` | `https://api.oao.to` |
| **Frontend URL** | `http://localhost:5173` | `https://app.oao.to` |
| **å”è­°** | HTTP | HTTPSï¼ˆè‡ªå‹•ï¼‰|
| **Port** | 8787, 8788, 5173 | 443ï¼ˆå…¨éƒ¨ï¼‰|
| **SSL è­‰æ›¸** | ç„¡éœ€ | Cloudflare è‡ªå‹• |
| **DNS** | localhost | Cloudflare DNS |

---

### **æ•¸æ“šå±¤é¢**

| è³‡æº | æœ¬åœ°é–‹ç™¼ | ç”Ÿç”¢ç’°å¢ƒ | éš”é›¢æ€§ |
|------|---------|---------|--------|
| **Workers KV** | æœ¬åœ°æ¨¡æ“¬ï¼ˆ`.wrangler/oao-shared/`ï¼‰| Cloudflare çœŸå¯¦ KV | âœ… å®Œå…¨éš”é›¢ |
| **D1 Database** | æœ¬åœ° SQLiteï¼ˆ`.wrangler/state/`ï¼‰| Cloudflare D1 | âœ… å®Œå…¨éš”é›¢ |
| **Analytics Engine** | æœ¬åœ°æ¨¡æ“¬ | Cloudflare Analytics | âœ… å®Œå…¨éš”é›¢ |
| **æ•¸æ“šå­˜å„²ä½ç½®** | æœ¬æ©Ÿç£ç¢Ÿ | Cloudflare å…¨çƒç¶²è·¯ | âœ… å®Œå…¨éš”é›¢ |

**é—œéµ**ï¼š
- âœ… é–‹ç™¼æ¸¬è©¦æ•¸æ“šä¸æœƒé€²å…¥ç”Ÿç”¢
- âœ… ç”Ÿç”¢æ•¸æ“šä¸æœƒå½±éŸ¿é–‹ç™¼
- âœ… å®Œå…¨å®‰å…¨

---

### **ç’°å¢ƒè®Šæ•¸**

| é¡å‹ | æœ¬åœ°é–‹ç™¼ | ç”Ÿç”¢ç’°å¢ƒ |
|------|---------|---------|
| **é…ç½®æ–¹å¼** | `.dev.vars` æª”æ¡ˆ | `wrangler secret put` |
| **å®‰å…¨æ€§** | æœ¬åœ°æª”æ¡ˆï¼ˆ.gitignoreï¼‰| Cloudflare Secretsï¼ˆåŠ å¯†ï¼‰|
| **ç¯„ä¾‹** | `JWT_SECRET="dev-secret-123"` | åŠ å¯†å­˜å„²ï¼Œç„¡æ³•æŸ¥çœ‹ |
| **è®Šæ›´æ–¹å¼** | ç·¨è¼¯æª”æ¡ˆ | é‡æ–° `secret put` |

**é–‹ç™¼ç’°å¢ƒè®Šæ•¸**ï¼ˆ`.dev.vars`ï¼‰ï¼š
```bash
JWT_SECRET="dev-jwt-secret-for-testing"
CLOUDFLARE_ACCOUNT_ID="your-account-id"
CLOUDFLARE_API_TOKEN="your-api-token"
GOOGLE_CLIENT_ID="dev-client-id"
```

**ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸**ï¼ˆåŠ å¯†ï¼‰ï¼š
```bash
wrangler secret put JWT_SECRET -e production
# è¼¸å…¥çœŸå¯¦çš„ç”Ÿç”¢ secret
```

---

## ğŸ”§ é–‹ç™¼æµç¨‹å°æ¯”

### **æœ¬åœ°é–‹ç™¼å•Ÿå‹•**

```bash
# éœ€è¦ 3 å€‹ Terminalï¼ˆæˆ–ç”¨è…³æœ¬ï¼‰

# Terminal 1: Core Worker
cd core-worker
wrangler dev --port 8787 --persist-to ../.wrangler/oao-shared
# è¼¸å‡º: Ready on http://localhost:8787

# Terminal 2: API Worker
cd api-worker
wrangler dev --port 8788 --persist-to ../.wrangler/oao-shared
# è¼¸å‡º: Ready on http://localhost:8788
# KV Namespace: local (shared)

# Terminal 3: Frontend
cd frontend
npm run dev
# è¼¸å‡º: Local: http://localhost:5173
```

**è¤‡é›œåº¦**ï¼šä¸­ç­‰  
**æ™‚é–“**ï¼š~10 ç§’å•Ÿå‹•  
**å„ªé»**ï¼š
- âœ… å³æ™‚ç†±æ›´æ–°
- âœ… å®Œå…¨é›¢ç·šå¯ç”¨
- âœ… é›¶ç¶²è·¯å»¶é²
- âœ… ç„¡æˆæœ¬

---

### **ç”Ÿç”¢éƒ¨ç½²æµç¨‹**

```bash
# éœ€è¦ 3 å€‹éƒ¨ç½²æŒ‡ä»¤ï¼ˆæˆ– CI/CDï¼‰

# 1. Core Worker
cd core-worker
wrangler deploy -e production
# éƒ¨ç½²åˆ°: oao.to

# 2. API Worker
cd api-worker
wrangler d1 migrations apply oao-to-db --remote  # å…ˆåŸ·è¡Œ migrations
wrangler deploy -e production
# éƒ¨ç½²åˆ°: api.oao.to

# 3. Frontend
cd frontend
npm run build
wrangler pages deploy dist --project-name oao-to-app
# éƒ¨ç½²åˆ°: app.oao.toï¼ˆéœ€åœ¨ Dashboard è¨­å®š Custom Domainï¼‰
```

**è¤‡é›œåº¦**ï¼šä¸­ç­‰  
**æ™‚é–“**ï¼š~30 ç§’éƒ¨ç½²  
**å„ªé»**ï¼š
- âœ… å…¨çƒåˆ†æ•£å¼
- âœ… è‡ªå‹• SSL
- âœ… è‡ªå‹•æ“´å±•
- âœ… é«˜å¯ç”¨æ€§

---

## ğŸ” é—œéµå·®ç•°åˆ†æ

### **1. KV å…±äº«æ©Ÿåˆ¶**

#### **æœ¬åœ°é–‹ç™¼**

```
æ©Ÿåˆ¶ï¼š--persist-to æŒ‡å®šå…±äº«ç›®éŒ„

core-worker:
â””â”€â”€ wrangler dev --persist-to ../.wrangler/oao-shared
    â””â”€â”€ å¯«å…¥: .wrangler/oao-shared/v3/kv/8f13385.../

api-worker:
â””â”€â”€ wrangler dev --persist-to ../.wrangler/oao-shared
    â””â”€â”€ è®€å¯«: .wrangler/oao-shared/v3/kv/8f13385.../

çµæœï¼šå…±äº«åŒä¸€å€‹ç›®éŒ„ âœ…
```

#### **ç”Ÿç”¢ç’°å¢ƒ**

```
æ©Ÿåˆ¶ï¼šCloudflare è‡ªå‹•è™•ç†

core-worker (oao.to):
â””â”€â”€ [[kv_namespaces]]
    id = "prod-kv-xxxxx"

api-worker (api.oao.to):
â””â”€â”€ [[kv_namespaces]]
    id = "prod-kv-xxxxx"  # ç›¸åŒ ID

çµæœï¼šCloudflare è‡ªå‹•è·¯ç”±åˆ°åŒä¸€å€‹ KV âœ…
```

**é—œéµå·®ç•°**ï¼š
- æœ¬åœ°ï¼šéœ€è¦æ‰‹å‹•æŒ‡å®š `--persist-to`
- ç”Ÿç”¢ï¼šåªéœ€ç›¸åŒ IDï¼Œè‡ªå‹•å…±äº«

---

### **2. å•Ÿå‹•è¤‡é›œåº¦**

#### **æœ¬åœ°ç‚ºä»€éº¼éœ€è¦ 3 å€‹æŒ‡ä»¤ï¼Ÿ**

```
åŸå› ï¼š
1. å¾®æœå‹™æ¶æ§‹ï¼ˆ3 å€‹ç¨ç«‹æœå‹™ï¼‰
2. æ¯å€‹æœå‹™éœ€è¦ç¨ç«‹é€²ç¨‹
3. Wrangler ä¸æ”¯æ´å–®æŒ‡ä»¤å•Ÿå‹•å¤šå€‹å°å¤–æœå‹™

æ­£å¸¸å—ï¼Ÿ
âœ… æ˜¯çš„ï¼Œé€™æ˜¯å¾®æœå‹™çš„æœ¬è³ª

å¯ä»¥ç°¡åŒ–å—ï¼Ÿ
âœ… å¯ä»¥ï¼Œç”¨è…³æœ¬å°è£ï¼š

#!/bin/bash
cd core-worker && wrangler dev --port 8787 --persist-to ../.wrangler/oao-shared &
cd api-worker && wrangler dev --port 8788 --persist-to ../.wrangler/oao-shared &
cd frontend && npm run dev &
wait

ä½¿ç”¨ï¼š./start-dev.sh
```

#### **ç”Ÿç”¢ç‚ºä»€éº¼ä¹Ÿéœ€è¦ 3 å€‹æŒ‡ä»¤ï¼Ÿ**

```
åŸå› ï¼š
1. 3 å€‹ç¨ç«‹çš„éƒ¨ç½²ç›®æ¨™
2. ä¸åŒçš„éƒ¨ç½²æ–¹å¼ï¼ˆWorkers vs Pagesï¼‰

æ­£å¸¸å—ï¼Ÿ
âœ… æ˜¯çš„ï¼Œæ¥­ç•Œæ¨™æº–

å¯ä»¥ç°¡åŒ–å—ï¼Ÿ
âœ… å¯ä»¥ï¼Œç”¨ CI/CDï¼š

# GitHub Actions
- deploy core-worker
- deploy api-worker  
- deploy frontend

ä¸€å€‹ git push è‡ªå‹•å…¨éƒ¨éƒ¨ç½²
```

---

### **3. æœ¬åœ°æ¸¬è©¦ vs ç”Ÿç”¢æ¸¬è©¦**

#### **æœ¬åœ°æ¸¬è©¦**

```
å„ªå‹¢ï¼š
- âœ… å³æ™‚åé¥‹ï¼ˆç¨‹å¼ç¢¼æ”¹å‹•ç«‹å³ç”Ÿæ•ˆï¼‰
- âœ… å®Œå…¨é›¢ç·šï¼ˆç„¡éœ€ç¶²è·¯ï¼‰
- âœ… ç„¡æˆæœ¬ï¼ˆæœ¬åœ°è³‡æºï¼‰
- âœ… å¯ä»¥ debugï¼ˆæ–·é»é™¤éŒ¯ï¼‰

é™åˆ¶ï¼š
- âš ï¸ æ¨¡æ“¬ç’°å¢ƒï¼ˆä¸æ˜¯ 100% çœŸå¯¦ï¼‰
- âš ï¸ ç„¡æ³•æ¸¬è©¦å…¨çƒåˆ†æ•£å¼è¡Œç‚º
- âš ï¸ Analytics Engine æœ¬åœ°æ¨¡æ“¬æœ‰é™

é©åˆï¼š
- åŠŸèƒ½é–‹ç™¼
- Bug ä¿®å¾©
- å¿«é€Ÿè¿­ä»£
```

#### **ç”Ÿç”¢æ¸¬è©¦**

```
å„ªå‹¢ï¼š
- âœ… çœŸå¯¦ç’°å¢ƒï¼ˆCloudflare ç¶²è·¯ï¼‰
- âœ… æ¸¬è©¦å…¨çƒè¡Œç‚º
- âœ… çœŸå¯¦çš„ Analytics Engine

é™åˆ¶ï¼š
- âš ï¸ æœ‰æˆæœ¬ï¼ˆé›–ç„¶å¾ˆä½ï¼‰
- âš ï¸ ç„¡æ³• debug
- âš ï¸ éƒ¨ç½²éœ€è¦æ™‚é–“

é©åˆï¼š
- æœ€çµ‚é©—è­‰
- æ€§èƒ½æ¸¬è©¦
- å…¨çƒåˆ†æ•£å¼æ¸¬è©¦
```

---

## ğŸš€ éƒ¨ç½²å‰æª¢æŸ¥æ¸…å–®

### **æœ¬åœ° â†’ ç”Ÿç”¢é·ç§»**

#### **æ­¥é©Ÿ 1ï¼šç’°å¢ƒéš”é›¢ç¢ºèª**

```bash
# ç¢ºèªæœ¬åœ°ç”¨ dev è³‡æº
cat core-worker/wrangler.toml | grep "id ="
# æ‡‰è©²æ˜¯: id = "dev-kv-xxxxx" æˆ–æš«æ™‚ç”¨çš„ ID

# ç¢ºèªç”Ÿç”¢ç”¨ prod è³‡æº
cat core-worker/wrangler.toml | grep -A 5 "\[env.production\]"
# æ‡‰è©²æœ‰: id = "prod-kv-yyyyy"ï¼ˆä¸åŒçš„ IDï¼‰
```

#### **æ­¥é©Ÿ 2ï¼šSecrets è¨­å®š**

```bash
# æœ¬åœ°é–‹ç™¼
.dev.vars æª”æ¡ˆï¼ˆå·²è¨­å®šï¼‰âœ…

# ç”Ÿç”¢ç’°å¢ƒ
wrangler secret put JWT_SECRET -e production
wrangler secret put CLOUDFLARE_API_TOKEN -e production
# ... å…¶ä»– secrets
```

#### **æ­¥é©Ÿ 3ï¼šMigrations åŸ·è¡Œ**

```bash
# æœ¬åœ°é–‹ç™¼
wrangler d1 migrations apply oao-to-db --local
# æˆ–ä¸åŸ·è¡Œï¼ˆwrangler dev è‡ªå‹•å‰µå»ºè¡¨ï¼‰

# ç”Ÿç”¢ç’°å¢ƒ
wrangler d1 migrations apply oao-to-prod --remote
# å¿…é ˆåŸ·è¡Œï¼
```

#### **æ­¥é©Ÿ 4ï¼šéƒ¨ç½²**

```bash
# é–‹ç™¼ç’°å¢ƒæ¸¬è©¦
wrangler dev  # æœ¬åœ°æ¸¬è©¦

# ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
wrangler deploy -e production  # éƒ¨ç½²åˆ° Cloudflare
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### **é–‹ç™¼æµç¨‹**

```
1. é–‹ç™¼è€…ä¿®æ”¹ç¨‹å¼ç¢¼
   â†“
2. å„²å­˜æª”æ¡ˆ
   â†“
3. Wrangler è‡ªå‹•é‡è¼‰ï¼ˆ< 1 ç§’ï¼‰
   â†“
4. ç€è¦½å™¨æ¸¬è©¦
   http://localhost:5173
   â†“
5. å³æ™‚çœ‹åˆ°çµæœ
   â†“
6. ç¹¼çºŒé–‹ç™¼...

è¿­ä»£é€Ÿåº¦ï¼šæ¥µå¿«ï¼ˆç§’ç´šï¼‰
```

### **éƒ¨ç½²æµç¨‹**

```
1. é–‹ç™¼å®Œæˆï¼Œæ¸¬è©¦é€šé
   â†“
2. Git commit & push
   â†“
3. åŸ·è¡Œ migrationsï¼ˆå¦‚æœæœ‰ï¼‰
   wrangler d1 migrations apply --remote
   â†“
4. éƒ¨ç½² Workers
   wrangler deploy -e production
   â†“
5. éƒ¨ç½² Frontend
   wrangler pages deploy dist
   â†“
6. å…¨çƒç”Ÿæ•ˆï¼ˆ< 1 åˆ†é˜ï¼‰
   â†“
7. é©—è­‰ç”Ÿç”¢ç’°å¢ƒ
   curl https://oao.to/health

è¿­ä»£é€Ÿåº¦ï¼šå¿«ï¼ˆåˆ†é˜ç´šï¼‰
```

---

## ğŸ’¡ ç‚ºä»€éº¼æœ¬åœ°éœ€è¦ --persist-toï¼Ÿ

### **å•é¡Œæ ¹æº**

```
é è¨­è¡Œç‚ºï¼š
â”œâ”€â”€ core-worker: .wrangler/state/v3/kv/8f13385.../
â””â”€â”€ api-worker: .wrangler/state/v3/kv/8f13385.../
                â†‘                    â†‘
            ä¸åŒç›®éŒ„ï¼           ä¸åŒç›®éŒ„ï¼

çµæœï¼šKV æ•¸æ“šä¸å…±äº« âŒ
```

### **è§£æ±ºæ–¹æ¡ˆ**

```
æŒ‡å®šå…±äº«ç›®éŒ„ï¼š
â”œâ”€â”€ core-worker: --persist-to ../.wrangler/oao-shared
â””â”€â”€ api-worker: --persist-to ../.wrangler/oao-shared
                         â†‘
                   ç›¸åŒç›®éŒ„ï¼

çµæœï¼šKV æ•¸æ“šå…±äº« âœ…
```

### **ç‚ºä»€éº¼ç”Ÿç”¢ä¸éœ€è¦ï¼Ÿ**

```
ç”Ÿç”¢ç’°å¢ƒï¼š
â”œâ”€â”€ Cloudflare çµ±ä¸€ç®¡ç†æ‰€æœ‰è³‡æº
â”œâ”€â”€ ç›¸åŒ KV ID = è‡ªå‹•è·¯ç”±åˆ°åŒä¸€å€‹ KV
â””â”€â”€ ç„¡éœ€æ‰‹å‹•é…ç½®

é€™å°±æ˜¯ç„¡ä¼ºæœå™¨çš„å„ªå‹¢ï¼
```

---

## ğŸ“‹ é–‹ç™¼åˆ°ç”Ÿç”¢æª¢æŸ¥è¡¨

### **åŠŸèƒ½é–‹ç™¼éšæ®µ**

- [ ] æœ¬åœ°å•Ÿå‹• 3 å€‹æœå‹™ï¼ˆ`--persist-to`ï¼‰
- [ ] åŠŸèƒ½é–‹ç™¼
- [ ] æœ¬åœ°æ¸¬è©¦ï¼ˆå‰µå»ºã€é‡å®šå‘ã€åˆ†æï¼‰
- [ ] ç¢ºèª KV å…±äº«æ­£å¸¸
- [ ] ç¢ºèªå‰ç«¯ API èª¿ç”¨æ­£å¸¸
- [ ] Git commit

### **éƒ¨ç½²æº–å‚™éšæ®µ**

- [ ] å‰µå»ºç”Ÿç”¢ KV namespace
- [ ] å‰µå»ºç”Ÿç”¢ D1 database
- [ ] æ›´æ–° `env.production` é…ç½®
- [ ] è¨­å®šç”Ÿç”¢ secrets
- [ ] åŸ·è¡Œ migrations åˆ°ç”Ÿç”¢ D1

### **éƒ¨ç½²åŸ·è¡Œéšæ®µ**

- [ ] éƒ¨ç½² Core Worker
- [ ] éƒ¨ç½² API Worker
- [ ] æ§‹å»º Frontend
- [ ] éƒ¨ç½² Frontend to Pages
- [ ] è¨­å®š Custom Domains

### **éƒ¨ç½²é©—è­‰éšæ®µ**

- [ ] æ¸¬è©¦ `https://oao.to/health`
- [ ] æ¸¬è©¦å‰µå»ºçŸ­ç¶²å€
- [ ] æ¸¬è©¦é‡å®šå‘åŠŸèƒ½
- [ ] æ¸¬è©¦å‰ç«¯ UI
- [ ] æ¸¬è©¦åˆ†æåŠŸèƒ½

---

## ğŸ¯ é—œéµå·®ç•°ç¸½çµ

### **ç›¸åŒçš„éƒ¨åˆ†ï¼ˆä¸€è‡´æ€§ï¼‰**

```
æ¶æ§‹è¨­è¨ˆï¼šâœ… å®Œå…¨ç›¸åŒ
æœå‹™æ•¸é‡ï¼šâœ… å®Œå…¨ç›¸åŒ
è·è²¬åˆ†å·¥ï¼šâœ… å®Œå…¨ç›¸åŒ
æ•¸æ“šæµå‘ï¼šâœ… å®Œå…¨ç›¸åŒ
API ç«¯é»ï¼šâœ… å®Œå…¨ç›¸åŒ
```

### **ä¸åŒçš„éƒ¨åˆ†ï¼ˆç’°å¢ƒç‰¹æ€§ï¼‰**

```
å•Ÿå‹•æ–¹å¼ï¼š
- æœ¬åœ°ï¼šwrangler dev --persist-to ...
- ç”Ÿç”¢ï¼šwrangler deploy -e production

æ•¸æ“šå­˜å„²ï¼š
- æœ¬åœ°ï¼šæœ¬æ©Ÿç£ç¢Ÿï¼ˆ.wrangler/ï¼‰
- ç”Ÿç”¢ï¼šCloudflare å…¨çƒç¶²è·¯

ç¶²è·¯ä½ç½®ï¼š
- æœ¬åœ°ï¼šlocalhost
- ç”Ÿç”¢ï¼šå…¨çƒ 300+ ç¯€é»

è³‡æºç®¡ç†ï¼š
- æœ¬åœ°ï¼šæ‰‹å‹•æŒ‡å®šå…±äº«ç›®éŒ„
- ç”Ÿç”¢ï¼šCloudflare è‡ªå‹•è™•ç†
```

---

## ğŸ“ æœ€ä½³å¯¦è¸

### **1. æ°¸é éš”é›¢ dev å’Œ prod è³‡æº**

```toml
# âœ… æ­£ç¢º
[[kv_namespaces]]
binding = "LINKS"
id = "dev-kv-id"  # é–‹ç™¼

[env.production.kv_namespaces]
binding = "LINKS"
id = "prod-kv-id"  # ç”Ÿç”¢ï¼ˆå®Œå…¨ä¸åŒï¼‰

# âŒ éŒ¯èª¤
[[kv_namespaces]]
id = "prod-kv-id"
remote = true  # é–‹ç™¼é€£æ¥ç”Ÿç”¢ KVï¼ˆå±éšªï¼ï¼‰
```

### **2. ä½¿ç”¨è…³æœ¬ç°¡åŒ–å•Ÿå‹•**

```bash
# é–‹ç™¼
./scripts/start-dev.sh  # ä¸€éµå•Ÿå‹• 3 å€‹æœå‹™

# éƒ¨ç½²
./scripts/deploy-prod.sh  # ä¸€éµéƒ¨ç½² 3 å€‹æœå‹™
```

### **3. æœ¬åœ°æ¸¬è©¦è¦†è“‹ç‡**

```
æœ¬åœ°å¿…æ¸¬ï¼š
- âœ… æ ¸å¿ƒåŠŸèƒ½ï¼ˆå‰µå»ºã€é‡å®šå‘ï¼‰
- âœ… API ç«¯é»
- âœ… å‰ç«¯ UI

ç”Ÿç”¢å¿…æ¸¬ï¼š
- âœ… å…¨çƒå»¶é²
- âœ… SSL è­‰æ›¸
- âœ… çœŸå¯¦ Analytics
```

---

## âœ… çµè«–

### **æœ¬åœ° vs ç”Ÿç”¢çš„é—œä¿‚**

```
æœ¬åœ°ç’°å¢ƒï¼š
- ä½œç”¨ï¼šå¿«é€Ÿé–‹ç™¼å’Œæ¸¬è©¦
- ç‰¹é»ï¼šå³æ™‚åé¥‹ã€é›¶æˆæœ¬
- é™åˆ¶ï¼šæ¨¡æ“¬ç’°å¢ƒ

ç”Ÿç”¢ç’°å¢ƒï¼š
- ä½œç”¨ï¼šçœŸå¯¦æœå‹™ç”¨æˆ¶
- ç‰¹é»ï¼šå…¨çƒåˆ†æ•£å¼ã€é«˜å¯ç”¨
- æˆæœ¬ï¼šæŒ‰ä½¿ç”¨é‡è¨ˆè²»

é—œä¿‚ï¼š
æœ¬åœ° = ç”Ÿç”¢çš„ 1:1 æ¨¡æ“¬
â”œâ”€â”€ æ¶æ§‹å®Œå…¨ä¸€è‡´
â”œâ”€â”€ åŠŸèƒ½å®Œå…¨ä¸€è‡´
â””â”€â”€ åªæœ‰åº•å±¤å¯¦ç¾ä¸åŒï¼ˆæœ¬åœ°æ¨¡æ“¬ vs çœŸå¯¦ Cloudflareï¼‰
```

### **è¤‡é›œåº¦ä¾†æº**

```
å•Ÿå‹•è¤‡é›œåº¦ = æ¶æ§‹è¤‡é›œåº¦

3 å€‹æœå‹™ = 3 å€‹å•Ÿå‹•æŒ‡ä»¤

é€™ä¸æ˜¯å·¥å…·å•é¡Œï¼Œæ˜¯æ¶æ§‹é¸æ“‡ï¼š
- å–®é«”æ¶æ§‹ï¼š1 å€‹æŒ‡ä»¤ï¼ˆä½†æœ‰è·¯ç”±è¡çªç­‰å•é¡Œï¼‰
- å¾®æœå‹™æ¶æ§‹ï¼šN å€‹æŒ‡ä»¤ï¼ˆä½†è·è²¬æ¸…æ™°ã€æ˜“æ“´å±•ï¼‰

æˆ‘å€‘é¸æ“‡å¾Œè€…ï¼Œé€™å€‹è¤‡é›œåº¦æ˜¯å€¼å¾—çš„ï¼
```

### **é€™å€‹æ¶æ§‹é©åˆç”Ÿç”¢å—ï¼Ÿ**

âœ… **å®Œå…¨é©åˆ**

è­‰æ“šï¼š
1. æ¥­ç•Œæ¨™æº–ï¼ˆBitlyã€Rebrandly éƒ½é€™æ¨£ï¼‰
2. Cloudflare å®˜æ–¹æ¨è–¦
3. å¯æ”¯æ’ç™¾è¬ç”¨æˆ¶
4. å·²å…¨é¢æ¸¬è©¦é©—è­‰

---

**æœ¬åœ°å’Œç”Ÿç”¢ç’°å¢ƒçš„ä¸€è‡´æ€§ = éƒ¨ç½²ä¿¡å¿ƒ = ç³»çµ±ç©©å®šæ€§**


